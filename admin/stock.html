<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tra cứu Tồn kho</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>

  <body>
    <header class="header">
      <div class="inner">
        <div class="logo" onclick="location.href='dashboard.html'">
          <img src="../img/logo.png" />
          <h1>QUẢN LÝ NHÀ SÁCH</h1>
        </div>
        <nav class="nav">
          <a href="dashboard.html">Trang chủ</a>
        </nav>
      </div>
    </header>

    <main>
      <!-- ===================== TRA CỨU TỒN KHO ===================== -->
      <section class="container" style="margin-top: 30px">
        <h2>Tra cứu Tồn kho</h2>

        <div
          class="form"
          style="
            display: flex;
            flex-direction: column;
            gap: 16px;
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
          "
        >
          <!-- ===== Chế độ tìm kiếm ===== -->
          <div>
            <label><b>Chế độ tra cứu:</b></label>
            <div
              style="
                display: flex;
                align-items: center;
                gap: 24px;
                margin-top: 6px;
              "
            >
              <label style="display: flex; align-items: center; gap: 6px">
                <input type="radio" name="searchMode" value="product" checked />
                <span>Theo sản phẩm</span>
              </label>
              <label style="display: flex; align-items: center; gap: 6px">
                <input type="radio" name="searchMode" value="category" />
                <span>Theo thể loại</span>
              </label>
            </div>
          </div>

          <!-- ===== Theo sản phẩm ===== -->
          <div>
            <label><b>Mã hoặc tên sản phẩm:</b></label
            ><br />
            <input
              type="text"
              id="productName"
              placeholder="Nhập mã hoặc tên sản phẩm..."
              style="
                width: 100%;
                padding: 8px;
                border-radius: 6px;
                border: 1px solid #ccc;
              "
            />
          </div>

          <!-- ===== Theo thể loại ===== -->
          <div>
            <label><b>Thể loại:</b></label
            ><br />
            <select
              id="productType"
              style="
                width: 100%;
                padding: 8px;
                border-radius: 6px;
                border: 1px solid #ccc;
              "
            >
              <option value="">Chọn thể loại...</option>
              <option>Tiểu thuyết</option>
              <option>Khoa học</option>
              <option>Lịch sử</option>
              <option>Tâm lý</option>
              <option>Giáo dục</option>
              <option>Tài liệu</option>
              <option>Tham khảo</option>
              <option>Hướng dẫn</option>
              <option>Truyện tranh</option>
              <option>Light Novel</option>
            </select>
          </div>

          <!-- ===== Ngày tra cứu ===== -->
          <div>
            <label><b>Ngày tra cứu:</b></label
            ><br />
            <input
              type="date"
              id="lookupDate"
              style="
                width: 100%;
                padding: 8px;
                border-radius: 6px;
                border: 1px solid #ccc;
              "
            />
          </div>

          <button class="btn" type="button" onclick="handleSearch()">
            Tra cứu
          </button>
        </div>
      </section>

      <!-- ===== SCRIPT ===== -->
      <script>
        // Điều khiển chọn chế độ tra cứu
        const input = document.getElementById("productName");
        const category = document.getElementById("productType");
        const radios = document.getElementsByName("searchMode");

        function updateMode() {
          const mode = [...radios].find((r) => r.checked).value;
          if (mode === "product") {
            input.disabled = false;
            category.disabled = true;
            category.value = "";
          } else {
            category.disabled = false;
            input.disabled = true;
            input.value = "";
          }
        }

        radios.forEach((radio) => radio.addEventListener("change", updateMode));
        updateMode();

        // Xử lý khi nhấn tra cứu
        function handleSearch() {
          const mode = document.querySelector(
            'input[name="searchMode"]:checked'
          ).value;
          if (mode === "product") {
            location.href = "stock_product.html";
          } else {
            location.href = "stock_category.html";
          }
        }
      </script>
    </main>
  </body>
</html>
